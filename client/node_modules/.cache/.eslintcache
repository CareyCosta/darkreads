[{"/Users/careycosta/dev/darkreads/client/src/index.tsx":"1","/Users/careycosta/dev/darkreads/client/src/reportWebVitals.ts":"2","/Users/careycosta/dev/darkreads/client/src/App.tsx":"3","/Users/careycosta/dev/darkreads/client/src/components/SearchHeader/SearchHeader.tsx":"4","/Users/careycosta/dev/darkreads/client/src/components/Books/Books.tsx":"5","/Users/careycosta/dev/darkreads/client/src/components/repository.ts":"6","/Users/careycosta/dev/darkreads/client/src/components/BookModal/BookModal.tsx":"7","/Users/careycosta/dev/darkreads/client/src/BuildingBlocks/Modal/Modal.tsx":"8","/Users/careycosta/dev/darkreads/client/src/BuildingBlocks/MultiSelect/MultiSelect.tsx":"9","/Users/careycosta/dev/darkreads/client/src/components/BookModal/BookActionsForm.tsx":"10"},{"size":554,"mtime":1688307078564,"results":"11","hashOfConfig":"12"},{"size":425,"mtime":1688307078564,"results":"13","hashOfConfig":"12"},{"size":539,"mtime":1688501921331,"results":"14","hashOfConfig":"12"},{"size":3086,"mtime":1688498604287,"results":"15","hashOfConfig":"12"},{"size":1552,"mtime":1688495769502,"results":"16","hashOfConfig":"12"},{"size":3196,"mtime":1688665448785,"results":"17","hashOfConfig":"12"},{"size":1951,"mtime":1688668154704,"results":"18","hashOfConfig":"12"},{"size":439,"mtime":1688493353086,"results":"19","hashOfConfig":"12"},{"size":5468,"mtime":1688665371200,"results":"20","hashOfConfig":"12"},{"size":1974,"mtime":1688667724747,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"1kt9fgf",{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"25"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"25"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"25"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/careycosta/dev/darkreads/client/src/index.tsx",[],[],[],"/Users/careycosta/dev/darkreads/client/src/reportWebVitals.ts",[],[],"/Users/careycosta/dev/darkreads/client/src/App.tsx",["56"],[],"import { useState, useEffect } from \"react\";\nimport { Books } from \"./components/Books/Books\";\nimport { SearchHeader } from \"./components/SearchHeader/SearchHeader\";\nimport { BookProps } from \"./components/types\";\n\nimport styles from \"./App.module.scss\";\n\nconst { container } = styles;\n\nfunction App() {\n  const [books, setBooks] = useState<BookProps[]>([]);\n\n  return (\n    <div className={container}>\n      <SearchHeader handleSetBooks={setBooks} books={books} />\n      <Books booksList={books} />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/careycosta/dev/darkreads/client/src/components/SearchHeader/SearchHeader.tsx",["57","58"],[],"import { useEffect, useState } from \"react\";\nimport { sortBy } from \"lodash\";\nimport {\n  BookProps,\n  SearchStateProps,\n  SortConfigProps,\n  SearchHeaderProps,\n} from \"../types\";\nimport { getBooks } from \"../repository\";\n\nimport styles from \"./SearchHeader.module.scss\";\nconst { headerContainer, inputWrapper, searchButton } = styles;\n\nconst localStorageState = localStorage.getItem(\"searchState\");\nconst initialState = localStorageState ? JSON.parse(localStorageState) : null;\n\nconst sortBooks = (booksList: BookProps[], direction: string): BookProps[] => {\n  if (direction === \"ASC\") {\n    return sortBy(booksList, (item: BookProps) => item.publishedDate);\n  } else {\n    return sortBy(booksList, (item: BookProps) => item.publishedDate).reverse();\n  }\n};\n\nexport const SearchHeader = (props: SearchHeaderProps) => {\n  const { handleSetBooks, books } = props;\n\n  const [searchState, setSearchState] =\n    useState<SearchStateProps>(initialState);\n  const [sortConfig, setSortConfig] = useState<SortConfigProps>({\n    direction: \"ASC\",\n  });\n\n  // get books initially\n  useEffect(() => {\n    if (!searchState) {\n      return;\n    }\n    getBooks(searchState.title, searchState.author).then((response) =>\n      handleSetBooks(response)\n    );\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"searchState\", JSON.stringify(searchState));\n  }, [searchState]);\n\n  // when the sortDirection changes, update the book state\n  useEffect(() => {\n    handleSetBooks(sortBooks(books, sortConfig.direction));\n  }, [sortConfig.direction]);\n\n  const toggleSortDirection = () => {\n    if (sortConfig.direction === \"ASC\") {\n      setSortConfig((state) => ({ ...state, direction: \"DESC\" }));\n    } else {\n      setSortConfig((state) => ({ ...state, direction: \"ASC\" }));\n    }\n  };\n\n  // fetch books with current state parameters\n  const handleGetBooks = async () => {\n    const response = await getBooks(searchState.title, searchState.author);\n    handleSetBooks(sortBooks(response, sortConfig.direction));\n  };\n\n  return (\n    <>\n      <div className={headerContainer}>\n        <h1>darkreads ðŸ•·</h1>\n        <div>\n          <div className={inputWrapper}>\n            <input\n              type=\"text\"\n              placeholder=\"book title\"\n              onChange={(e) =>\n                setSearchState((state) => ({ ...state, title: e.target.value }))\n              }\n              value={searchState?.title}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"author\"\n              onChange={(e) =>\n                setSearchState((state) => ({\n                  ...state,\n                  author: e.target.value,\n                }))\n              }\n              value={searchState?.author}\n            />\n            <button className={searchButton} onClick={handleGetBooks}>\n              <span>ðŸ’€</span>\n            </button>\n            {!!books.length && (\n              <button onClick={toggleSortDirection}>\n                {sortConfig.direction}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","/Users/careycosta/dev/darkreads/client/src/components/Books/Books.tsx",["59"],[],"import { useState } from \"react\";\nimport { BookProps } from \"../types\";\nimport { BookModal } from \"../BookModal/BookModal\";\nimport styles from \"./Books.module.scss\";\n\nconst {\n  booksContainer,\n  bookItem,\n  bookInfoWrapper,\n  bookTitle,\n  bookDescription,\n  imageContainer,\n} = styles;\n\nconst getSanitizedDate = (date: Date) => {\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n\n  return [day, month, year].join(\"/\");\n};\n\nexport const Books = (props: { booksList: BookProps[] }) => {\n  const [showBookModal, setShowBookModal] = useState<string | null>(null);\n  const { booksList } = props;\n  return (\n    <div className={booksContainer}>\n      {showBookModal && (\n        <BookModal\n          handleShowModal={setShowBookModal}\n          book={booksList.find((b) => b.id === showBookModal)}\n        />\n      )}\n      {booksList.length ? (\n        booksList.map((b) => (\n          <div className={bookItem} key={`book-${b.id}`}>\n            <div className={bookInfoWrapper}>\n              <div className={bookTitle}>{b.title}</div>\n              <div>{b.authors}</div>\n              <div>{getSanitizedDate(b.publishedDate)}</div>\n              <div className={bookDescription}>{b.description}</div>\n              <button onClick={() => setShowBookModal(b.id)}>show modal</button>\n            </div>\n            <div className={imageContainer}>\n              <img src={b.imageLink} />\n            </div>\n          </div>\n        ))\n      ) : (\n        <div>no books</div>\n      )}\n    </div>\n  );\n};\n","/Users/careycosta/dev/darkreads/client/src/components/repository.ts",[],[],"/Users/careycosta/dev/darkreads/client/src/components/BookModal/BookModal.tsx",["60","61"],[],"/Users/careycosta/dev/darkreads/client/src/BuildingBlocks/Modal/Modal.tsx",[],[],"/Users/careycosta/dev/darkreads/client/src/BuildingBlocks/MultiSelect/MultiSelect.tsx",["62"],[],"/Users/careycosta/dev/darkreads/client/src/components/BookModal/BookActionsForm.tsx",["63","64"],[],{"ruleId":"65","severity":1,"message":"66","line":1,"column":20,"nodeType":"67","messageId":"68","endLine":1,"endColumn":29},{"ruleId":"69","severity":1,"message":"70","line":42,"column":6,"nodeType":"71","endLine":42,"endColumn":8,"suggestions":"72"},{"ruleId":"69","severity":1,"message":"73","line":51,"column":6,"nodeType":"71","endLine":51,"endColumn":28,"suggestions":"74"},{"ruleId":"75","severity":1,"message":"76","line":45,"column":15,"nodeType":"77","endLine":45,"endColumn":40},{"ruleId":"75","severity":1,"message":"76","line":58,"column":17,"nodeType":"77","endLine":58,"endColumn":45},{"ruleId":"78","severity":1,"message":"79","line":59,"column":17,"nodeType":"77","messageId":"80","endLine":59,"endColumn":60,"fix":"81"},{"ruleId":"65","severity":1,"message":"66","line":2,"column":36,"nodeType":"67","messageId":"68","endLine":2,"endColumn":45},{"ruleId":"65","severity":1,"message":"82","line":2,"column":21,"nodeType":"67","messageId":"68","endLine":2,"endColumn":32},{"ruleId":"65","severity":1,"message":"83","line":5,"column":10,"nodeType":"67","messageId":"68","endLine":5,"endColumn":24},"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'handleSetBooks' and 'searchState'. Either include them or remove the dependency array.","ArrayExpression",["84"],"React Hook useEffect has missing dependencies: 'books' and 'handleSetBooks'. Either include them or remove the dependency array.",["85"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" (which implies rel=\"noopener\") is a security risk in older browsers: see https://mathiasbynens.github.io/rel-noopener/#recommendations","noTargetBlankWithoutNoreferrer",{"range":"86","text":"87"},"'FormikProps' is defined but never used.","'LocalBookProps' is defined but never used.",{"desc":"88","fix":"89"},{"desc":"90","fix":"91"},[1794,1794]," rel=\"noreferrer\"","Update the dependencies array to be: [handleSetBooks, searchState]",{"range":"92","text":"93"},"Update the dependencies array to be: [books, handleSetBooks, sortConfig.direction]",{"range":"94","text":"95"},[1247,1249],"[handleSetBooks, searchState]",[1509,1531],"[books, handleSetBooks, sortConfig.direction]"]